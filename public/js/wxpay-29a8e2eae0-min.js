!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){$(document).ready(function(){function e(){f.length<=0?document.querySelector(".confirm-btn").style.backgroundColor="#bbb":document.querySelector(".confirm-btn").style.backgroundColor="#2ab34b",document.getElementById("amount").value=d}function t(t){f.length<8&&(u(f)&&f.push(t),c(f),d=f.join("")),e()}function o(){m&&d?($(".pay-logo").css({display:"none"}),$(".keyboard").css({display:"none"}),$(".blink").css({display:"none"}),$(".coupon-wrap").css({display:"block"}),m=!1):s.opay8.toast("请输入付款金额")}function i(){f.length<10&&(f.length<=0?(f.push("0"),f.push(".")):f.indexOf(".")<0&&f.push("."),d=f.join("")),e()}function a(){var t=f.length,n=f.slice(-2);t<=10&&("."==n[0]?(f.splice(-2,2),d=f.join(""),e()):(f.pop(),d=f.join(""),e()))}function r(){var e=document.querySelector(".price-zone");f.length>0?e.innerHTML=d:e.innerHTML=""}function c(e){if(e.length>1&&e.indexOf(".")<0&&"0"==e[0])return e.shift()}function u(e){return!(e.indexOf(".")>=0)||!(e.length-e.indexOf(".")>2)}var s=n(1);s.opay8.setHtmlFonts(),$(".top-img,.pay-title,.pay-tips,.pay-box,.pay-info").on("touchmove",function(e){e.preventDefault()});for(var l={},p=0;p<=12;p++)l[p]=document.getElementById("td"+p),l[p].addEventListener("touchstart",function(e){e.stopPropagation(),e.preventDefault();var n=this.getAttribute("data");switch("sub"!=n&&(this.style.backgroundColor="#f5f5f5"),n){case"del":a();break;case"sub":o();break;case".":i();break;default:t(n)}r()}),l[p].addEventListener("touchend",function(e){var t=this.getAttribute("data");"del"==t&&(this.style.backgroundImg="url(../images/keyboard_delete%403x.png)"),"sub"!=t&&(event.stopPropagation(),event.preventDefault(),this.style.backgroundColor="#fff")});var d,f=[],m=!0;e(),$(".pay-box").on("tap",function(){m||($(".pay-logo").css({display:"block"}),$(".keyboard").css({display:"block"}),$(".blink").css({display:"inline-block"}),$(".coupon-wrap").css({display:"none"}),m=!0)})})},function(e,t){e.exports={opay8:{setHtmlFonts:function(){var e=document.documentElement.clientWidth;e>640&&(e=640),document.documentElement.style.fontSize=e/7.5+"px"},setCookie:function(e,t,n,o){var i=new Date;return i.setTime(i.getTime()+864e5),document.cookie=e+"="+t+"; expires="+i.toGMTString()+"; "+(o?"path="+o+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+document.location.hostname+";"),!0},getCookie:function(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n=document.cookie.match(t);return n?n[1]:""},delCookie:function(e,t,n){document.cookie=e+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(n?"path="+n+"; ":"path=/; ")+(t?"domain="+t+";":"domain="+document.location.hostname+";")},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null},toast:function(e,t){if(null===document.querySelector(".toast")){var n=$('<p class="toast">'+e+"</p>").appendTo($("body"));return setTimeout(function(){n.remove()},t||1e3),n}},cutTime:function(e){return e.split(" ")[0]},ifString:function(e,t,n,o){return e==t?n:o},netType:function(e,t){var n=navigator.userAgent;if(n){var o=n.match(/NetType.*\s/g);if(o&&o[0]){var i=o[0].replace("NetType/","");i=i.replace(/\s/g,"")}}}}}}]);